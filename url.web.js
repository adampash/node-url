"use strict";function createCommonjsModule(t,e){return e={exports:{}},t(e,e.exports),e.exports}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,e,r){if(t&&util.isObject(t)&&t instanceof Url)return t;var s=new Url;return s.parse(t,e,r),s}function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,e){return urlParse(t,!1,!0).resolve(e)}function urlResolveObject(t,e){return t?urlParse(t,!1,!0).resolveObject(e):e}Object.defineProperty(exports,"__esModule",{value:!0});var punycode$1=createCommonjsModule(function(t,e){!function(r){function s(t){throw RangeError($[t])}function o(t,e){for(var r=t.length,s=[];r--;)s[r]=e(t[r]);return s}function n(t,e){var r=t.split("@"),s="";r.length>1&&(s=r[0]+"@",t=r[1]),t=t.replace(E,".");var n=t.split("."),h=o(n,e).join(".");return s+h}function h(t){for(var e,r,s=[],o=0,n=t.length;o<n;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<n?(r=t.charCodeAt(o++),56320==(64512&r)?s.push(((1023&e)<<10)+(1023&r)+65536):(s.push(e),o--)):s.push(e);return s}function a(t){return o(t,function(t){var e="";return t>65535&&(t-=65536,e+=M(t>>>10&1023|55296),t=56320|1023&t),e+=M(t)}).join("")}function i(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:j}function l(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function u(t,e,r){var s=0;for(t=r?F(t/U):t>>1,t+=F(t/e);t>S*O>>1;s+=j)t=F(t/S);return F(s+(S+1)*t/(t+C))}function c(t){var e,r,o,n,h,l,c,p,f,m,v=[],d=t.length,y=0,g=q,b=w;for(r=t.lastIndexOf(A),r<0&&(r=0),o=0;o<r;++o)t.charCodeAt(o)>=128&&s("not-basic"),v.push(t.charCodeAt(o));for(n=r>0?r+1:0;n<d;){for(h=y,l=1,c=j;n>=d&&s("invalid-input"),p=i(t.charCodeAt(n++)),(p>=j||p>F((P-y)/l))&&s("overflow"),y+=p*l,f=c<=b?x:c>=b+O?O:c-b,!(p<f);c+=j)m=j-f,l>F(P/m)&&s("overflow"),l*=m;e=v.length+1,b=u(y-h,e,0==h),F(y/e)>P-g&&s("overflow"),g+=F(y/e),y%=e,v.splice(y++,0,g)}return a(v)}function p(t){var e,r,o,n,a,i,c,p,f,m,v,d,y,g,b,C=[];for(t=h(t),d=t.length,e=q,r=0,a=w,i=0;i<d;++i)v=t[i],v<128&&C.push(M(v));for(o=n=C.length,n&&C.push(A);o<d;){for(c=P,i=0;i<d;++i)v=t[i],v>=e&&v<c&&(c=v);for(y=o+1,c-e>F((P-r)/y)&&s("overflow"),r+=(c-e)*y,e=c,i=0;i<d;++i)if(v=t[i],v<e&&++r>P&&s("overflow"),v==e){for(p=r,f=j;m=f<=a?x:f>=a+O?O:f-a,!(p<m);f+=j)b=p-m,g=j-m,C.push(M(l(m+b%g,0))),p=F(b/g);C.push(M(l(p,0))),a=u(r,y,o==n),r=0,++o}++r,++e}return C.join("")}function f(t){return n(t,function(t){return I.test(t)?c(t.slice(4).toLowerCase()):t})}function m(t){return n(t,function(t){return R.test(t)?"xn--"+p(t):t})}var v="object"==typeof e&&e&&!e.nodeType&&e,d="object"==typeof t&&t&&!t.nodeType&&t,y="object"==typeof global&&global;y.global!==y&&y.window!==y&&y.self!==y||(r=y);var g,b,P=2147483647,j=36,x=1,O=26,C=38,U=700,w=72,q=128,A="-",I=/^xn--/,R=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=j-x,F=Math.floor,M=String.fromCharCode;if(g={version:"1.3.2",ucs2:{decode:h,encode:a},decode:c,encode:p,toASCII:m,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(v&&d)if(t.exports==v)d.exports=g;else for(b in g)g.hasOwnProperty(b)&&(v[b]=g[b]);else r.punycode=g}(this)}),util$1={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}},decode$1=function(t,e,r,s){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var n=/\+/g;t=t.split(e);var h=1e3;s&&"number"==typeof s.maxKeys&&(h=s.maxKeys);var a=t.length;h>0&&a>h&&(a=h);for(var i=0;i<a;++i){var l,u,c,p,f=t[i].replace(n,"%20"),m=f.indexOf(r);m>=0?(l=f.substr(0,m),u=f.substr(m+1)):(l=f,u=""),c=decodeURIComponent(l),p=decodeURIComponent(u),hasOwnProperty(o,c)?Array.isArray(o[c])?o[c].push(p):o[c]=[o[c],p]:o[c]=p}return o},stringifyPrimitive=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},encode$1=function(t,e,r,s){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(s){var o=encodeURIComponent(stringifyPrimitive(s))+r;return Array.isArray(t[s])?t[s].map(function(t){return o+encodeURIComponent(stringifyPrimitive(t))}).join(e):o+encodeURIComponent(stringifyPrimitive(t[s]))}).join(e):s?encodeURIComponent(stringifyPrimitive(s))+r+encodeURIComponent(stringifyPrimitive(t)):""},index=createCommonjsModule(function(t,e){e.decode=e.parse=decode$1,e.encode=e.stringify=encode$1}),punycode=punycode$1,util=util$1,parse=urlParse,resolve=urlResolve,resolveObject=urlResolveObject,format=urlFormat,Url_1=Url,protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=index;Url.prototype.parse=function(t,e,r){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),o=s!==-1&&s<t.indexOf("#")?"?":"#",n=t.split(o),h=/\\/g;n[0]=n[0].replace(h,"/"),t=n.join(o);var a=t;if(a=a.trim(),!r&&1===t.split("#").length){var i=simplePathPattern.exec(a);if(i)return this.path=a,this.href=a,this.pathname=i[1],i[2]?(this.search=i[2],e?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=protocolPattern.exec(a);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===a.substr(0,2);!c||l&&hostlessProtocol[l]||(a=a.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(c||l&&!slashedProtocol[l])){for(var p=-1,f=0;f<hostEndingChars.length;f++){var m=a.indexOf(hostEndingChars[f]);m!==-1&&(p===-1||m<p)&&(p=m)}var v,d;d=p===-1?a.lastIndexOf("@"):a.lastIndexOf("@",p),d!==-1&&(v=a.slice(0,d),a=a.slice(d+1),this.auth=decodeURIComponent(v)),p=-1;for(var f=0;f<nonHostChars.length;f++){var m=a.indexOf(nonHostChars[f]);m!==-1&&(p===-1||m<p)&&(p=m)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!y)for(var g=this.hostname.split(/\./),f=0,b=g.length;f<b;f++){var P=g[f];if(P&&!P.match(hostnamePartPattern)){for(var j="",x=0,O=P.length;x<O;x++)j+=P.charCodeAt(x)>127?"x":P[x];if(!j.match(hostnamePartPattern)){var C=g.slice(0,f),U=g.slice(f+1),w=P.match(hostnamePartStart);w&&(C.push(w[1]),U.unshift(w[2])),U.length&&(a="/"+U.join(".")+a),this.hostname=C.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=punycode.toASCII(this.hostname));var q=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+q,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!unsafeProtocol[u])for(var f=0,b=autoEscape.length;f<b;f++){var I=autoEscape[f];if(a.indexOf(I)!==-1){var R=encodeURIComponent(I);R===I&&(R=escape(I)),a=a.split(I).join(R)}}var E=a.indexOf("#");E!==-1&&(this.hash=a.substr(E),a=a.slice(0,E));var $=a.indexOf("?");if($!==-1?(this.search=a.substr($),this.query=a.substr($+1),e&&(this.query=querystring.parse(this.query)),a=a.slice(0,$)):e&&(this.search="",this.query={}),a&&(this.pathname=a),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",S=this.search||"";this.path=q+S}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",s=this.hash||"",o=!1,n="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(n=querystring.stringify(this.query));var h=this.search||n&&"?"+n||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||slashedProtocol[e])&&o!==!1?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),s&&"#"!==s.charAt(0)&&(s="#"+s),h&&"?"!==h.charAt(0)&&(h="?"+h),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),h=h.replace("#","%23"),e+o+r+h+s},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(util.isString(t)){var e=new Url;e.parse(t,!1,!0),t=e}for(var r=new Url,s=Object.keys(this),o=0;o<s.length;o++){var n=s[o];r[n]=this[n]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),a=0;a<h.length;a++){var i=h[a];"protocol"!==i&&(r[i]=t[i])}return slashedProtocol[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!slashedProtocol[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",m=r.search||"";r.path=f+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),d=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=d||v||r.host&&t.pathname,g=y,b=r.pathname&&r.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],P=r.protocol&&!slashedProtocol[r.protocol];if(P&&(r.hostname="",r.port=null,r.host&&(""===b[0]?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),y=y&&(""===p[0]||""===b[0])),d)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=p;else if(p.length)b||(b=[]),b.pop(),b=b.concat(p),r.search=t.search,r.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(P){r.hostname=r.host=b.shift();var j=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");j&&(r.auth=j.shift(),r.host=r.hostname=j.shift())}return r.search=t.search,r.query=t.query,util.isNull(r.pathname)&&util.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=b.slice(-1)[0],O=(r.host||t.host||b.length>1)&&("."===x||".."===x)||""===x,C=0,U=b.length;U>=0;U--)x=b[U],"."===x?b.splice(U,1):".."===x?(b.splice(U,1),C++):C&&(b.splice(U,1),C--);if(!y&&!g)for(;C--;C)b.unshift("..");!y||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),O&&"/"!==b.join("/").substr(-1)&&b.push("");var w=""===b[0]||b[0]&&"/"===b[0].charAt(0);if(P){r.hostname=r.host=w?"":b.length?b.shift():"";var j=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");j&&(r.auth=j.shift(),r.host=r.hostname=j.shift())}return y=y||r.host&&b.length,y&&!w&&b.unshift(""),b.length?r.pathname=b.join("/"):(r.pathname=null,r.path=null),util.isNull(r.pathname)&&util.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Url.prototype.parseHost=function(){var t=this.host,e=portPattern.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var url={parse:parse,resolve:resolve,resolveObject:resolveObject,format:format,Url:Url_1};exports.default=url,exports.parse=parse,exports.resolve=resolve,exports.resolveObject=resolveObject,exports.format=format,exports.Url=Url_1;
//# sourceMappingURL=url.web.js.map
